# Crescent DKIM
Crescent DKIM system is designed for verifying on-chain ownership by DKIM with privacy.

# Setup
- `make init` to install dependencies.
- `make prove` to compile the circuit, run tests and generate witnesses. If there exist compiled circuit files in `build_circuits` folder, it will skip compilation.
- `make clean` to remove all files in `build_circuits`.

**Notice**
You should install circom and snarkjs to run this project. Circom 2.0.6 is required for this project. If you’re using a higher version, it could lead to errors in test JS files as current snarkjs and higher circom compiler are incompatible in some functions.

# Turn ZKP Circuits to ZKP Solidity Verifier
Finish the keygen ceremony before turn the circuits into solidity verifier. `contracts/verifier.sol` is just an example of the final output.

## MPC Keygen Ceremony Phase1 & Phase2
For Phase1, you can download the existing `.ptau` file generated by famous parties instead of generating it yourself. Phase2 is circuit-specific key generation. If you’re using Plonk instead of Groth16, ignore Phase2.

Just read[GitHub - iden3/snarkjs: zkSNARK implementation in JavaScript & WASM](https://github.com/iden3/snarkjs).
**Notice:** You should run `snarkjs r1cs info circuit.r1cs` and check `maxConstraints` before you generate/download Phase1 keys and select a proper power according to the table in the above link.
